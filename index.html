<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart with Image Grid</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .image-gallery {
            text-align: center;
        }

        .large-image img {
            width: 500px;
            height: 500px;
            border: 2px solid #2b00ff;
            margin-bottom: 20px;
            transition: 0.3s ease-in-out;
            border-radius: 8px;
        }

        .thumbnail-grid {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .thumbnail {
            width: 100px;
            height: 100px;
            cursor: pointer;
            border: 2px solid #ccc;
            transition: transform 0.2s;
            object-fit: cover;
            border-radius: 8px;
        }

        .thumbnail:hover {
            transform: scale(1.1);
        }

        .container {
            max-width: 800px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th,
        td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        input[type="number"] {
            width: 60px;
        }

        .total {
            margin-top: 20px;
            text-align: center;
        }

        .user-info {
            margin-top: 20px;
        }

        .user-info label {
            display: block;
            margin-bottom: 5px;
        }

        .user-info input {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
    </style>
</head>

<body>

    <div class="image-gallery">
        <div class="large-image">
            <img id="mainImage" src="https://5.imimg.com/data5/SELLER/Default/2022/2/JS/GD/NW/8433109/16-mm-tata-tmt-bar.jpeg" alt="Large Display">
        </div>

        <div class="thumbnail-grid">
            <img class="thumbnail" src="https://5.imimg.com/data5/SELLER/Default/2022/2/JS/GD/NW/8433109/16-mm-tata-tmt-bar.jpeg" alt="Thumbnail 1" onclick="changeImage('https://5.imimg.com/data5/SELLER/Default/2022/2/JS/GD/NW/8433109/16-mm-tata-tmt-bar.jpeg')">
            <img class="thumbnail" src="https://5.imimg.com/data5/SELLER/Default/2023/9/343524711/GV/KG/BX/64000106/25mm-tata-tiscon-sd-rebar-250x250.jpg" alt="Thumbnail 2" onclick="changeImage('https://5.imimg.com/data5/SELLER/Default/2023/9/343524711/GV/KG/BX/64000106/25mm-tata-tiscon-sd-rebar-250x250.jpg')">
            <img class="thumbnail" src="https://5.imimg.com/data5/SELLER/Default/2024/9/452081334/GR/SC/WY/81057003/6-mm-tata-tiscon-tmt-bar-500x500.jpg" alt="Thumbnail 3" onclick="changeImage('https://5.imimg.com/data5/SELLER/Default/2024/9/452081334/GR/SC/WY/81057003/6-mm-tata-tiscon-tmt-bar-500x500.jpg')">
            <img class="thumbnail" src="https://5.imimg.com/data5/SELLER/Default/2023/4/303548727/LN/KN/BK/188717185/tata-tiscon-tmt-bar-500x500.jpg" alt="Thumbnail 4" onclick="changeImage('https://5.imimg.com/data5/SELLER/Default/2023/4/303548727/LN/KN/BK/188717185/tata-tiscon-tmt-bar-500x500.jpg')">
        </div>
    </div>

    <br><br><br>

    <div class="container">
        <h1>Shopping Cart</h1>
        <table id="cart">
            <thead>
                <tr>
                    <th>Item</th>
                    <th>Rate / Piece</th>
                    <th>Rate / Ton</th>
                    <th>Unit</th>
                    <th>Enter Qty</th>
                    <th>Amount</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>8 MM</td>
                    <td class="rate-piece">321.19</td>
                    <td class="rate-ton">321190</td>
                    <td>
                        <select class="unit" onchange="calculateAmount()">
                            <option value="piece">Piece</option>
                            <option value="ton">Ton</option>
                        </select>
                    </td>
                    <td><input type="number" min="0" class="qty" value="0" onchange="calculateAmount()"></td>
                    <td class="amount">0.00</td>
                </tr>
                <tr>
                    <td>10 MM</td>
                    <td class="rate-piece">488.98</td>
                    <td class="rate-ton">488980</td>
                    <td>
                        <select class="unit" onchange="calculateAmount()">
                            <option value="piece">Piece</option>
                            <option value="ton">Ton</option>
                        </select>
                    </td>
                    <td><input type="number" min="0" class="qty" value="0" onchange="calculateAmount()"></td>
                    <td class="amount">0.00</td>
                </tr>
                <tr>
                    <td>12 MM</td>
                    <td class="rate-piece">689.83</td>
                    <td class="rate-ton">689830</td>
                    <td>
                        <select class="unit" onchange="calculateAmount()">
                            <option value="piece">Piece</option>
                            <option value="ton">Ton</option>
                        </select>
                    </td>
                    <td><input type="number" min="0" class="qty" value="0" onchange="calculateAmount()"></td>
                    <td class="amount">0.00</td>
                </tr>
                <tr>
                    <td>16 MM</td>
                    <td class="rate-piece">1227.97</td>
                    <td class="rate-ton">1227970</td>
                    <td>
                        <select class="unit" onchange="calculateAmount()">
                            <option value="piece">Piece</option>
                            <option value="ton">Ton</option>
                        </select>
                    </td>
                    <td><input type="number" min="0" class="qty" value="0" onchange="calculateAmount()"></td>
                    <td class="amount">0.00</td>
                </tr>
                <tr>
                    <td>20 MM</td>
                    <td class="rate-piece">1919.49</td>
                    <td class="rate-ton">1919490</td>
                    <td>
                        <select class="unit" onchange="calculateAmount()">
                            <option value="piece">Piece</option>
                            <option value="ton">Ton</option>
                        </select>
                    </td>
                    <td><input type="number" min="0" class="qty" value="0" onchange="calculateAmount()"></td>
                    <td class="amount">0.00</td>
                </tr>
                <tr>
                    <td>25 MM</td>
                    <td class="rate-piece">2856.87</td>
                    <td class="rate-ton">2856870</td>
                    <td>
                        <select class="unit" onchange="calculateAmount()">
                            <option value="piece">Piece</option>
                            <option value="ton">Ton</option>
                        </select>
                    </td>
                    <td><input type="number" min="0" class="qty" value="0" onchange="calculateAmount()"></td>
                    <td class="amount">0.00</td>
                </tr>
            </tbody>
        </table>
        <div class="total">
            <strong>Grand Total: â‚¹<span id="grandTotal">0.00</span></strong>
        </div>

        <div class="user-info">
            <h3>User Information</h3>
            <form id="userForm" onsubmit="sendToWhatsApp(); return false;">
                <label for="name">Name:</label>
                <input type="text" id="name" required>

                <label for="phone">Phone Number:</label>
                <input type="text" id="phone" required>

                <label for="pincode">Pincode:</label>
                <input type="text" id="pincode" required>

                <button type="submit">Send to WhatsApp</button>
            </form>
        </div>
    </div>

    <script>
        function changeImage(src) {
            document.getElementById('mainImage').src = src;
        }

        function calculateAmount() {
    const rows = document.querySelectorAll('#cart tbody tr');
    let grandTotal = 0;

    rows.forEach(row => {
        const ratePiece = parseFloat(row.querySelector('.rate-piece').textContent);
        const rateTon = parseFloat(row.querySelector('.rate-ton').textContent);
        const qty = parseFloat(row.querySelector('.qty').value) || 0;
        const unit = row.querySelector('.unit').value;

        let amount;
        if (unit === 'piece') {
            amount = qty * ratePiece;
        } else {
            amount = qty * rateTon; // Corrected this line to use the rate per ton directly
        }

        row.querySelector('.amount').textContent = amount.toFixed(2);
        grandTotal += amount;
    });

    document.getElementById('grandTotal').textContent = grandTotal.toFixed(2);
}


        function sendToWhatsApp() {
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const pincode = document.getElementById('pincode').value;
            const rows = document.querySelectorAll('#cart tbody tr');
            let message = `Name: ${name}\nPhone: ${phone}\nPincode: ${pincode}\n\nItems:\n`;

            rows.forEach(row => {
                const item = row.cells[0].textContent;
                const qty = row.querySelector('.qty').value;
                const amount = row.querySelector('.amount').textContent;

                if (qty > 0) {
                    message += `${item}: Qty ${qty}, Amount â‚¹${amount}\n`;
                }
            });

            const grandTotal = document.getElementById('grandTotal').textContent;
            message += `\nGrand Total: â‚¹${grandTotal}`;
            const whatsappUrl = `https://api.whatsapp.com/send?phone=9474088566&text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }
    </script>

</body>

</html>
